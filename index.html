<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Banana Brains</title>
    <link href="https://fonts.googleapis.com/css2?family=Boogaloo&family=Nunito:wght@400;700;800;900&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css/globals.css">

    <link rel="stylesheet" href="js/screens/loading/loading.css">
    <link rel="stylesheet" href="js/screens/home/home.css">
    <link rel="stylesheet" href="js/screens/setup/setup.css">
    </head>
    <body>

        <!--Loading Screen-->
<div id="loadingScreen" class="screen active">
    <div class="stars-layer" id="starsLayer"></div>

    <div class="loading-card">
        <div class="loading-banana">ğŸŒ</div>

        <h1 class="loading-title">
            <span class="word-banana">BANANA</span>
            <span class="word-brain">BRAINS</span>
        </h1>
        <p class="loading-subtitle">Math Adventure</p>

        <div class="progress-track">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <p class="progress-label" id="progressLabel">Initializing......</p>

        <div class="api-badge">
            <div class="api-dot"></div>
            ğŸŒ Connecting to Banana API + Emoji API
        </div>
    </div>
</div>

  <!--Home Menu-->
  <div id="homeScreen" class="screen">
    <div class="clouds-container">
        <div class="cloud cloud-a"></div>
        <div class="cloud cloud-b"></div>
        <div class="cloud cloud-c"></div>
  </div>

  <div class="trees">
    <div class="tree">ğŸŒ²</div>
    <div class="tree">ğŸŒ³</div>
    <div class="tree">ğŸŒ²</div>
    <div class="tree">ğŸŒ³</div>
  </div>

  <div class="ground-hill"></div>

  <div class="home-panel">
    <div class="identity-badge" id="returningBadge">
        <div class="badge-avatar">ğŸ§ </div>
        <div class="badge-text">
        <div class="badge-name" id="returningName">Player</div>
        <div class="badge-score">ğŸ† Best: <span id="returningScore">0</span> pts</div>    
        </div>
    </div>

    <div class="game-logo">
        <h1>BANANA BRAINS</h1>
    </div>

    <div class="home-character">ğŸ§ </div>
    <div class="menu-buttons">
        <button class="menu-btn btn-single" id="btn-single">
            <span class="btn-emoji">ğŸ®</span>
            Single Player
        </button> 

        <button class="menu-btn btn-multi" id="btn-multi">
            <span class="btn-emoji">ğŸ‘¥</span>
            Two Players
        </button> 

        <button class="menu-btn btn-leader" id="btn-leader">
                <span class="btn-emoji">ğŸ†</span>
                Leaderboard
            </button>

            <button class="menu-btn btn-settings" id="btn-settings">
                <span class="btn-emoji">âš™ï¸</span>
                Settings
            </button>
        </div>

        <p class="version-tag">v1.0 Â· Banana Brain Â· 2025</p>
    </div>
    </div>
    

<script src="js/StorageManager.js"></script>
<script src="js/GameModel.js"></script>
<script src="js/GameView.js"></script>
<script src="js/GameController.js"></script>

<script src="js/screens/loading/loading.js"></script>
<script src="js/screens/home/home.js"></script>
<script src="js/screens/setup/setup.js"></script>

<script>
document.addEventListener('DOMContentLoaded', async function() {
    console.log('Banana Brain : DOMContentLoaded event fired!');
    console.log('Starting Game......');

    const storage = new StorageManager();
    const model = new GameModel(storage);
    const view = new GameView();
    const controller = new GameController(model, view, storage);

    controller.registerEvents();

    window.loadingScreen.buildStars();
    window.loadingScreen.buildParticles();
    await window.loadingScreen.runLoading(view);

    const returningUser = model.loadUser();
    if(returningUser) {
        console.log('Returning user detected: ', returningUser.username);
        view.showReturningUser(returningUser.username, returningUser.highScore);
    }

    view.show('home');

    console.log('âœ… Game ready!');
    console.log('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”');
    console.log('CONCEPTS ACTIVE:');
    console.log('âš¡ Event-Driven:    All buttons wired');
    console.log('ğŸ‘¤ Virtual Identity: localStorage ready');
    console.log('ğŸŒ Interoperability: Banana + Emoji APIs ready');
    console.log('ğŸ“ Version Control:  Commit this file!');
    console.log('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”');

    }); 

</script>
    </body>
</html>